Notes

when file is reading a raid group, read all the stripe into memory. Even if one block is written, then dirty
all the dbns, so that it can be writtin out again as a stripe. This also means dedupe should be aware of stripe
logic and make sure that the dbns of any stripe would have the same refcount/childrefcount.

dbns in a stripe can have refcount as 0. Remember, we have wafl style write, so we know for sure that the stripe
is written only once, so there is no problem as long as the blocks are not modified. This will however be an issue
because lets say we have refcounts of [0,2,3,2] for a stripe. We have a block free, this is called a stripe-hole.
The stripe hole can only filled by background scanners, wich we are offline.
** If we have [0,1,0,2], and we allow live writes, then we could have one file writing to block 0 and another file
trying to write to the third block creating race conditions.

Make read only snapshots work

When volume has data, backed clone is failing.

Create vol->writedata ->do backed clone->delete data from snapshot->reload/clone orig volume ===> crash



If we have a zipped folder in explorder. ex. manpasand.zip and lets say it has files inside
While copying, windows first cretes  manpasand.zip as a file and then inside that tries to copy the 1.jpg, 2.jpg as contents.
In redfs, we see that \\manpasand.zip is a file, and when we get a write to \\manpasand.zip\1.jpg etc, we panic.

